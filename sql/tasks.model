IF NOT EXISTS (SELECT * FROM sys.tables WHERE name = 'tasks')
BEGIN
    CREATE TABLE tasks (
        id INT IDENTITY(1,1) PRIMARY KEY,
        project_id INT NOT NULL FOREIGN KEY REFERENCES projects(id),
        assigned_to INT FOREIGN KEY REFERENCES users(id),
        task_name VARCHAR(100) NOT NULL,
        description NVARCHAR(MAX),
        status VARCHAR(30) DEFAULT 'Pending',
        due_date DATE
    );
END
